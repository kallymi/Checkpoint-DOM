"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5559],{5559:function(e,t,r){var n=r(7568),a=r(4327),s=r(92),o=r(9208),c=r.n(o),u=r(3454),i=u.env.FLOWBITE_GET_BLOCK_TEMPLATES_URL,l=u.env.FLOWBITE_GET_BLOCK_SUBCATEGORIES_URL,h=u.env.FLOWBITE_GET_CUSTOMER_DOWNLOADS,d=u.env.FLOWBITE_GET_CUSTOMER_BILLING_INFO,f=function(){var e=(0,n.Z)((function(e){var t,r,n,a,o,u,i,l,h,d,f,p,m=arguments;return(0,s.__generator)(this,(function(s){switch(s.label){case 0:t=m.length>1&&void 0!==m[1]?m[1]:{},s.label=1;case 1:return s.trys.push([1,6,,7]),r=t.email,n=t.firstName,a=t.lastName,o=t.subject,u=t.message,r&&n&&a&&o&&u?(i=new URLSearchParams(t),l="".concat(e,"?").concat(i),[4,fetch(l,{method:"GET",headers:{"Content-Type":"application/json"}})]):[2,{error:"Missing parameters."}];case 2:return(h=s.sent()).ok?[4,h.json()]:[3,4];case 3:return d=s.sent(),[2,{data:c()(d,"data","Email has been successfully sent.")}];case 4:return[4,h.json()];case 5:throw f=s.sent().error,new Error(f.message);case 6:return p=s.sent(),[2,{error:c()(p,"message","An unexpected error occurred while sending your message.")}];case 7:return[2]}}))}));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=(0,n.Z)((function(){var e,t,r,n,o,u,i,l,h,d,f,p,m=arguments;return(0,s.__generator)(this,(function(s){switch(s.label){case 0:e=m.length>0&&void 0!==m[0]?m[0]:{},s.label=1;case 1:return s.trys.push([1,6,,7]),t=e.downloadUrl,r=e.jwtToken,n=(0,a.Z)(e,["downloadUrl","jwtToken"]),o=new URLSearchParams(n),u="".concat(t,"?").concat(o),[4,fetch(u,{method:"GET",headers:{Authorization:r}})];case 2:return(i=s.sent()).ok?[4,i.json()]:[3,4];case 3:return l=s.sent(),h=c()(l,"downloadURL",""),d=c()(l,"fileName","download.zip"),[2,{data:{url:h,filename:d}}];case 4:return[4,i.json()];case 5:throw f=s.sent().error,new Error(f);case 6:return p=s.sent(),[2,{error:c()(p,"message","Failed to download customer product.")}];case 7:return[2]}}))}));return function(){return e.apply(this,arguments)}}(),m=function(){var e=(0,n.Z)((function(e){var t,r,n;return(0,s.__generator)(this,(function(a){switch(a.label){case 0:if(!e)return[2,{error:"Invalid captcha code."}];a.label=1;case 1:return a.trys.push([1,4,,5]),"https://flowbite.com/api/recaptcha",[4,fetch("https://flowbite.com/api/recaptcha",{method:"POST",body:JSON.stringify({captchaCode:e}),headers:{"Content-Type":"application/json"}})];case 2:return(t=a.sent()).ok?[2,{data:"SUCCESS"}]:[4,t.json()];case 3:throw r=a.sent(),new Error(r.message);case 4:return n=a.sent(),[2,{error:c()(n,"message","An unexpected error occurred while verifying the captcha code.")}];case 5:return[2]}}))}));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=(0,n.Z)((function(){var e,t,r,n,o,u,i,l,d,f=arguments;return(0,s.__generator)(this,(function(s){switch(s.label){case 0:e=f.length>0&&void 0!==f[0]?f[0]:{},s.label=1;case 1:return s.trys.push([1,6,,7]),t=e.jwtToken,r=(0,a.Z)(e,["jwtToken"]),n=new URLSearchParams(r),o="".concat(h,"?").concat(n),[4,fetch(o,{method:"GET",headers:{Authorization:t}})];case 2:return(u=s.sent()).ok?[4,u.json()]:[3,4];case 3:return i=s.sent(),[2,{data:c()(i,"items",[])}];case 4:return[4,u.json()];case 5:throw l=s.sent(),new Error(l.message);case 6:return d=s.sent(),[2,{error:c()(d,"message","Failed to fetch customer downloads.")}];case 7:return[2]}}))}));return function(){return e.apply(this,arguments)}}(),w=function(){var e=(0,n.Z)((function(){var e,t,r,n,o,u,i,l,h,f=arguments;return(0,s.__generator)(this,(function(s){switch(s.label){case 0:e=f.length>0&&void 0!==f[0]?f[0]:{},s.label=1;case 1:return s.trys.push([1,6,,7]),t=e.jwtToken,r=(0,a.Z)(e,["jwtToken"]),n=new URLSearchParams(r),o="".concat(d,"?").concat(n),[4,fetch(o,{method:"GET",headers:{Authorization:t}})];case 2:return(u=s.sent()).ok?[4,u.json()]:[3,4];case 3:return i=s.sent(),[2,{data:c()(i,"items",[])}];case 4:return[4,u.json()];case 5:throw l=s.sent(),new Error(l.message);case 6:return h=s.sent(),[2,{error:c()(h,"message","Failed to fetch customer billing info.")}];case 7:return[2]}}))}));return function(){return e.apply(this,arguments)}}(),E=function(){var e=(0,n.Z)((function(e){var t,r,n,a,o,u,i,h,d;return(0,s.__generator)(this,(function(s){switch(s.label){case 0:return s.trys.push([0,5,,6]),t=l,e&&(r=new URLSearchParams({categorySlug:e}),t+="?".concat(r)),[4,fetch(t,{method:"GET",headers:{"Content-Type":"application/json"}})];case 1:return(n=s.sent()).ok?[4,n.json()]:[3,3];case 2:return a=s.sent(),o=c()(a,"items",[]),u=c()(a,"category",{}),i=c()(a,"category.totalBlocks",0),[2,{data:{items:o,category:u,totalBlocks:i}}];case 3:return[4,n.json()];case 4:throw h=s.sent(),new Error(h.message);case 5:return d=s.sent(),[2,{error:c()(d,"message","Failed to fetch block subcategories.")}];case 6:return[2]}}))}));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=(0,n.Z)((function(){var e,t,r,n,a,o,u,l,h,d,f=arguments;return(0,s.__generator)(this,(function(s){switch(s.label){case 0:e=f.length>0&&void 0!==f[0]?f[0]:{},s.label=1;case 1:return s.trys.push([1,6,,7]),t=new URLSearchParams(e),r="".concat(i,"?").concat(t),[4,fetch(r,{method:"GET",headers:{"Content-Type":"application/json"}})];case 2:return(n=s.sent()).ok?[4,n.json()]:[3,4];case 3:return a=s.sent(),o=c()(a,"category",{}),u=c()(a,"subcategory",{}),l=c()(a,"items",[]),[2,{category:o,subcategory:u,items:l}];case 4:return[4,n.json()];case 5:throw h=s.sent(),new Error(h.message);case 6:return d=s.sent(),[2,{error:c()(d,"message","Failed to fetch block templates.")}];case 7:return[2]}}))}));return function(){return e.apply(this,arguments)}}(),T=function(){var e=(0,n.Z)((function(){var e,t,r,n,a,o,i,l,h=arguments;return(0,s.__generator)(this,(function(s){switch(s.label){case 0:e=h.length>0&&void 0!==h[0]?h[0]:{},s.label=1;case 1:return s.trys.push([1,6,,7]),t=u.env.FLOWBITE_GET_RELATED_BLOCK_CATEGORIES_URL,r=new URLSearchParams(e),n="".concat(t,"?").concat(r),[4,fetch(n,{method:"GET",headers:{"Content-Type":"application/json"}})];case 2:return(a=s.sent()).ok?[4,a.json()]:[3,4];case 3:return o=s.sent(),[2,{data:c()(o,"items",[])}];case 4:return[4,a.json()];case 5:throw i=s.sent(),new Error(i.message);case 6:return l=s.sent(),[2,{error:c()(l,"message","Failed to fetch related block categories.")}];case 7:return[2]}}))}));return function(){return e.apply(this,arguments)}}(),y={sendEmail:f,downloadFile:p,verifyCaptchaCode:m,getCustomerDownloads:g,getCustomerBillingInfo:w,getBlockSubcategories:E,getBlockTemplates:_,getRelatedBlockCategories:T};t.Z=y}}]);